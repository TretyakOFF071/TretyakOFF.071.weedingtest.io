<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Приглашение на свадьбу</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <h1>Дарья & Михаил</h1>
                <p class="date">24.05.2025</p>
            </div>
            <div class="header-right">
                <img src="photo.jpg" alt="Дарья и Михаил" class="couple-photo">
            </div>
        </header>

        <section class="invitation">
            <div class="invitation-text">
                <h2>Дорогой Гость!</h2>
                <p>Мы рады сообщить Вам, что 24.05.2025 состоится самое главное торжество в нашей жизни - день нашей свадьбы!</p>
                <p>Приглашаем Вас разделить с нами радость этого незабываемого дня.</p>
            </div>
        </section>

        <section class="details">
            <div class="details-content">
                <h2>24.05.2025 в 11:00</h2>
                <p>ждем вас у входа в</p>
                <h3>Управление ЗАГСом Свердловской области</h3>
                <p>Улица Карла Либкнехта, 3</p>
                <p>Торжественная часть в 11:30</p>
            </div>
        </section>

        <section class="schedule">
            <h2>Свадебное расписание</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="time">11:30</div>
                    <div class="date">24.05.2025</div>
                    <div class="event">
                        <h3>Торжественная роспись</h3>
                        <p>ЗАГС Карла Либкнехта, 3</p>
                        <p>Приглашаем вас разделить вместе с нами радость создания новой семьи.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="time">16:00</div>
                    <div class="date">24.05.2025</div>
                    <div class="event">
                        <h3>Фуршет</h3>
                        <p>Встречаемся с вами в <span class="location">[место будет указано позже]</span>. Наряды красивые, но удобные, т.к мы хотим чтобы вы отдыхая чувствовали себя уютно и свободно в обычной обстановке :)</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="menu">
            <h2>МЕНЮ НА ФУРШЕТЕ</h2>
            <p>Меню разнообразно, поэтому сообщите нам заранее, если у вас есть какие-либо предпочтения или диетические ограничения. После просмотра данного приглашения ответьте жениху или невесте на опрос.</p>
        </section>

        <section class="gifts">
            <h2>ПОЖЕЛАНИЯ ПО ПОДАРКАМ</h2>
            <p>Ваше присутствие в день нашей свадьбы - самый значимый подарок для нас!</p>
            <p>Мы понимаем, что дарить цветы на свадьбу - это традиция, но мы не сможем насладиться их красотой в полной мере... Будем рады другой альтернативе (в денежном эквиваленте).</p>
        </section>

        <section class="notes">
            <h2>ПРИМЕЧАНИЕ</h2>
            <p>Будем благодарны, если вы воздержитесь от частых криков "Горько" на празднике, ведь поцелуй — это знак выражения чувств, он не может быть по заказу.</p>
        </section>

        <section class="confirmation">
            <h2>ПОДТВЕРЖДЕНИЕ</h2>
            <p>Пожалуйста подтвердите свое присутствие до 01.01.2025</p>
        </section>
        <section class="dress-code">

        <h2>Дресс-код</h2>
        <p>Будем благодарны, если при выборе нарядов на наше торжество вы придержитесь следующей палитры</p>
        <div class="color-palette">
            <div class="color" style="background-color: #f7e0d6;"></div>  <!-- нежно-персиковый -->
            <div class="color" style="background-color: #e3ddfb;"></div>  <!-- лавандовый -->
            <div class="color" style="background-color: #b8d4f8;"></div>  <!-- голубой -->
            <div class="color" style="background-color: #181716;"></div>  <!-- черный -->
            <div class="color" style="background-color: #5e7440;"></div>  <!-- оливково-зеленый -->
        </div>
        <p>P.s но если у вас есть наряды других оттенков, то можете уточнить у жениха или невесты</p>
    </section>

    <section class="rsvp-form">
        <h2>Подтвердите участие</h2>
        <form id="weddingRSVP" class="rsvp-form-container">
            <input type="hidden" name="bot_token" value="8037781254:AAGSnEJrILylzxz2UNwWAmTQ_FRPZ3weGbw">
            <input type="hidden" name="chat_id" value="-4630793126">
            
            <div class="form-group">
                <label for="guestName">Ваше имя:</label>
                <input type="text" id="guestName" name="Имя" required>
            </div>
            
            <div class="form-group">
                <label>Вы придёте?</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="Присутствие" value="Да, с радостью!" required> 
                        Да, с радостью!
                    </label>
                    <label>
                        <input type="radio" name="Присутствие" value="К сожалению, не смогу"> 
                        К сожалению, не смогу
                    </label>
                </div>
            </div>
            
            <div class="form-group" id="guestCountGroup">
                <label for="guestCount">Количество человек (включая вас):</label>
                <select id="guestCount" name="Количество гостей">
                    <option value="1">1</option>
                    <option value="2" selected>2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>Предпочтения в еде:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="Еда" value="Мясные блюда"> Мясные блюда</label>
                    <label><input type="checkbox" name="Еда" value="Рыбные блюда"> Рыбные блюда</label>
                    <label><input type="checkbox" name="Еда" value="Вегетарианское"> Вегетарианское</label>
                    <label><input type="checkbox" name="Еда" value="Веганское"> Веганское</label>
                </div>
            </div>
            
            <div class="form-group">
                <label>Алкогольные предпочтения:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="Напитки" value="Вино"> Вино</label>
                    <label><input type="checkbox" name="Напитки" value="Шампанское"> Шампанское</label>
                    <label><input type="checkbox" name="Напитки" value="Крепкие напитки"> Крепкие напитки</label>
                    <label><input type="checkbox" name="Напитки" value="Не употребляю"> Не употребляю</label>
                </div>
            </div>
            
            <!-- <div class="form-group">
                <label for="comments">Дополнительные пожелания:</label>
                <textarea id="comments" name="Пожелания" rows="3"></textarea>
            </div> -->
            
            <button type="submit" class="submit-btn">Отправить ответ</button>
        </form>
    </section>
    

        <section class="closing">
            <h2>Ждем Вас!</h2>
        </section>

        <footer class="footer">
            <p>С любовью, Дарья & Михаил</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('weddingRSVP');
            let lastSubmitTime = 0;
            
            // Показываем/скрываем количество гостей
            const attendanceRadios = document.querySelectorAll('input[name="Присутствие"]');
            const guestCountGroup = document.getElementById('guestCountGroup');
            
            attendanceRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    guestCountGroup.style.display = this.value.includes('Да') ? 'block' : 'none';
                });
            });
            
            // Обработка отправки формы
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Защита от спама
                const now = Date.now();
                if (now - lastSubmitTime < 30000) {
                    alert('Пожалуйста, не отправляйте форму чаще чем раз в 30 секунд');
                    return;
                }
                lastSubmitTime = now;
                
                // Сбор данных формы
                const formData = new FormData(form);
                const botToken = formData.get('bot_token');
                const chatId = formData.get('chat_id');
                formData.delete('bot_token');
                formData.delete('chat_id');
                
                // Форматирование сообщения
                let message = `🎉 *Новый ответ на свадьбу!* 🎉\n\n`;
                
                // Добавляем поля в сообщение
                for (let [key, value] of formData.entries()) {
                    if (key === 'Еда' || key === 'Напитки') continue;
                    message += `*${key}:* ${value}\n`;
                }
                
                // Добавляем чекбоксы
                const foodItems = formData.getAll('Еда');
                const drinkItems = formData.getAll('Напитки');
                
                if (foodItems.length > 0) {
                    message += `*Предпочтения в еде:* ${foodItems.join(', ')}\n`;
                }
                
                if (drinkItems.length > 0) {
                    message += `*Напитки:* ${drinkItems.join(', ')}\n`;
                }
                
                // Отправка в Telegram (без кнопки)
                try {
                    const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            chat_id: chatId,
                            text: message,
                            parse_mode: 'Markdown'
                            // Убрано reply_markup
                        })
                    });
                    
                    if (response.ok) {
                        alert('Спасибо! Ваш ответ успешно отправлен.\nМы будем рады видеть вас на нашем празднике!');
                        form.reset();
                    } else {
                        const errorData = await response.json();
                        throw new Error(errorData.description || 'Ошибка отправки');
                    }
                } catch (error) {
                    console.error('Ошибка:', error);
                    alert('Произошла ошибка при отправке. Пожалуйста, свяжитесь с нами другим способом.');
                }
            });
        });
        </script>
</body>
</html>